{% extends 'base.html' %}
{% load static %}
{% load webapp_extras %}
{% block content %}
<link rel="stylesheet" href="{% static 'flow.css' %}">


<!------------------------------------ Buttons ---------------------------------->
    <div class="container_button">
        <ul>
            <li><a href="{% url 'create-ticket' %}">
                <button type="button" class="btn btn-outline-secondary btn-block" >
                    Demander une critique</button></a></li>
            <li><a href="{% url 'create-reviews' %}">
                <button type="button" class="btn btn-outline-secondary btn-block" >
                    Créer une critique</button></a></li>
        </ul>
    </div>
    </br></br>

<!------------------------------------ Feed ------------------------------------->
<div class="article">

    {% for instance in ordered_tickets_and_reviews %}

            {% if instance|model_type == 'Ticket' %}
                <div class="article_ticket">
            TWO    {% include 'webapp/partials/ticket_snippets.html' with ticket=instance %}
                </div>
            {% elif instance|model_type == 'Review' %}
                <div class="article_review">
            TWO    {% include 'webapp/partials/review_snippets.html' with review=instance %}
                </div>
            {% endif %}
    {% endfor %}



</div>
    <span>
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; première</a>

            <a href="?page={{ page_obj.previous_page_number }}"><button>précédente</button></a>
        {% endif %}

        <span>
            Page {{ page_obj.number }} sur {{ page_obj.paginator.num_pages }}.

        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}"><button>suivante</button></a>

            <a href="?page={{ page_obj.paginator.num_pages }}"><button>dernière &raquo;</button></a>
        {% endif %}
    </span>
{% endblock %}